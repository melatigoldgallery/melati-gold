import{_ as B}from"./anvMgztA.js";import{u as N}from"./yfo-yYjr.js";import{i as A,r as d,f as D,c as o,a as e,s as V,j as c,d as y,u as i,F as w,h,o as l,n as k,t as r}from"#entry";const E={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4 sm:mb-6"},L={key:0,class:"text-center py-12"},U={key:1,class:"space-y-3 sm:space-y-4"},z={class:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4"},I={class:"flex-shrink-0 w-14 h-14 sm:w-16 sm:h-16 bg-yellow-100 rounded-lg flex items-center justify-center"},O={class:"flex-1 min-w-0"},T={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2"},q={class:"flex-1 min-w-0"},G={class:"font-semibold text-base sm:text-xl text-gray-900"},H={class:"text-xs sm:text-sm text-gray-600 mt-1"},J={class:"text-sm sm:text-base text-gray-700 mb-3 line-clamp-2"},K={key:0,class:"mb-3"},P={class:"list-disc list-inside text-sm text-gray-600"},Q={class:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500"},R={key:0},W={key:1},X={class:"flex sm:flex-col gap-2 w-full sm:w-auto"},Y=["onClick"],Z=["onClick"],ee={key:2,class:"text-center py-12 text-gray-500"},ne=A({__name:"CatalogServiceManager",emits:["alert"],setup(te,{emit:C}){const a=C,{getCustomServices:S,deleteCustomService:M}=N(),u=d([]),m=d(!0),x=d(!1),f=d(null),p=async()=>{m.value=!0;const n=await S();if(n.success)u.value=n.data;else{const t="error"in n?n.error:"Unknown error";a("alert","Failed to load services: "+t,"error")}m.value=!1},_=n=>{f.value=n||null,x.value=!0},v=()=>{x.value=!1,f.value=null},F=()=>{p(),v(),a("alert","Service saved successfully!","success")},$=async n=>{if(!confirm(`Are you sure you want to delete "${n.title}"?`))return;const t=await M(n.id);if(t.success)a("alert","Service deleted successfully!","success"),p();else{const g="error"in t?t.error:"Unknown error";a("alert","Failed to delete service: "+g,"error")}};return D(()=>{p()}),(n,t)=>{const g=B;return l(),o("div",null,[e("div",E,[t[2]||(t[2]=e("h2",{class:"text-lg sm:text-xl font-semibold text-gray-900"},"Custom Services",-1)),e("button",{onClick:t[0]||(t[0]=s=>_()),class:"w-full sm:w-auto px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors text-sm sm:text-base"},[...t[1]||(t[1]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),y(" Add Service ",-1)])])]),i(m)?(l(),o("div",L,[...t[3]||(t[3]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Loading services...",-1)])])):i(u).length>0?(l(),o("div",U,[(l(!0),o(w,null,h(i(u),s=>(l(),o("div",{key:s.id,class:"border rounded-lg p-4 sm:p-6 hover:bg-gray-50 transition-colors"},[e("div",z,[e("div",I,[e("i",{class:k([s.icon||"bi bi-gear","text-2xl sm:text-3xl text-yellow-600"])},null,2)]),e("div",O,[e("div",T,[e("div",q,[e("h3",G,r(s.title),1),e("p",H,r(s.subtitle),1)]),e("span",{class:k(["px-3 py-1 text-xs rounded-full whitespace-nowrap",s.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},r(s.is_active?"Active":"Inactive"),3)]),e("p",J,r(s.description),1),s.features&&s.features.length>0?(l(),o("div",K,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-700 mb-1"},"Features:",-1)),e("ul",P,[(l(!0),o(w,null,h(s.features,(b,j)=>(l(),o("li",{key:j},r(b),1))),128))])])):c("",!0),e("div",Q,[s.duration?(l(),o("span",R,[t[5]||(t[5]=e("i",{class:"bi bi-clock mr-1"},null,-1)),y(" "+r(s.duration),1)])):c("",!0),s.price_info?(l(),o("span",W,[t[6]||(t[6]=e("i",{class:"bi bi-tag mr-1"},null,-1)),y(" "+r(s.price_info),1)])):c("",!0),e("span",null,"Order: "+r(s.display_order),1)])]),e("div",X,[e("button",{onClick:b=>_(s),class:"flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-xs sm:text-sm transition-colors"},[...t[7]||(t[7]=[e("i",{class:"bi bi-pencil mr-1"},null,-1),e("span",{class:"hidden xs:inline"},"Edit",-1)])],8,Y),e("button",{onClick:b=>$(s),class:"flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs sm:text-sm transition-colors"},[...t[8]||(t[8]=[e("i",{class:"bi bi-trash mr-1"},null,-1),e("span",{class:"hidden xs:inline"},"Delete",-1)])],8,Z)])])]))),128))])):(l(),o("div",ee,[...t[9]||(t[9]=[e("i",{class:"bi bi-tools text-4xl mb-2"},null,-1),e("p",null,"No custom services found. Create one to get started.",-1)])])),i(x)?(l(),V(g,{key:3,service:i(f),onClose:v,onSaved:F},null,8,["service"])):c("",!0)])}}});export{ne as default};
