import{_}from"./BnTxly4d.js";import{u as v}from"./yfo-yYjr.js";import{i as k,r as b,f as w,c as r,o,a as e,d as m,u as g,F as h,h as B,t as a,j as S,b as C,w as j}from"#entry";const M={key:0,class:"text-center py-12"},N={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},F=["src","alt"],P={class:"mb-3"},V={class:"flex items-start justify-between mb-2"},L={class:"font-semibold text-lg"},R={class:"flex gap-1"},D={key:0,class:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",title:"Featured"},T={class:"text-sm text-gray-600 mb-2"},U={class:"flex items-center justify-between text-sm"},$={class:"text-gray-500"},A={class:"font-semibold text-yellow-600"},E={class:"mt-2 text-xs text-gray-500"},H={class:"flex gap-2"},I=["onClick"],q={key:2,class:"text-center py-12 text-gray-500"},Q=k({__name:"CatalogBestSellerManager",emits:["alert"],setup(z,{emit:x}){const i=x,{getBestSellers:p,toggleProductBestSeller:f}=v(),n=b([]),d=b(!0),c=async()=>{d.value=!0;const l=await p();if(l.success)n.value=l.data;else{const t="error"in l?l.error:"Unknown error";i("alert","Failed to load best sellers: "+t,"error")}d.value=!1},y=async l=>{if(!confirm("Remove this product from best sellers?"))return;const t=await f(l);if(t.success)i("alert","Product removed from best sellers!","success"),c();else{const u="error"in t?t.error:"Unknown error";i("alert","Failed to update product: "+u,"error")}};return w(()=>{c()}),(l,t)=>{const u=_;return o(),r("div",null,[e("div",{class:"flex justify-between items-center mb-6"},[t[1]||(t[1]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900"},"Best Sellers"),e("p",{class:"text-sm text-gray-600 mt-1"},"Manajemen produk terlaris")],-1)),e("button",{onClick:c,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"},[...t[0]||(t[0]=[e("i",{class:"bi bi-arrow-clockwise mr-2"},null,-1),m(" Refresh ",-1)])])]),g(d)?(o(),r("div",M,[...t[2]||(t[2]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat produk terlaris...",-1)])])):g(n).length>0?(o(),r("div",N,[(o(!0),r(h,null,B(g(n),s=>(o(),r("div",{key:s.id,class:"border rounded-lg p-4 hover:shadow-md transition-shadow"},[e("img",{src:s.thumbnail_image||"/img/placeholder.jpg",alt:s.title,class:"w-full h-48 object-cover rounded-lg mb-3"},null,8,F),e("div",P,[e("div",V,[e("h3",L,a(s.title),1),e("div",R,[s.is_featured?(o(),r("span",D,[...t[3]||(t[3]=[e("i",{class:"bi bi-star-fill"},null,-1)])])):S("",!0),t[4]||(t[4]=e("span",{class:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",title:"Best Seller"},[e("i",{class:"bi bi-trophy-fill"})],-1))])]),e("p",T,a(s.name),1),e("div",U,[e("span",$,a(s.category_name),1),e("span",A,a(s.price?`Rp ${Number(s.price).toLocaleString("id-ID")}`:"N/A"),1)]),e("div",E,[e("span",null,a(s.view_count||0)+" views",1)])]),e("div",H,[e("button",{onClick:G=>y(s.id),class:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors"},[...t[5]||(t[5]=[e("i",{class:"bi bi-x-circle mr-1"},null,-1),m(" Hapus dari Best Sellers ",-1)])],8,I)])]))),128))])):(o(),r("div",q,[t[7]||(t[7]=e("i",{class:"bi bi-trophy text-4xl mb-2"},null,-1)),t[8]||(t[8]=e("p",{class:"text-lg"},"Tidak ada produk terlaris",-1)),t[9]||(t[9]=e("p",{class:"text-sm mt-2"},"Buka tab Produk untuk menandai produk sebagai terlaris",-1)),C(u,{to:"/admin/catalog?tab=products",class:"inline-block mt-4 px-6 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors"},{default:j(()=>[...t[6]||(t[6]=[m(" Buka Produk ",-1)])]),_:1})]))])}}});export{Q as default};
