import{i as x,r as g,q as y,s as h,o,w,c as i,j as _,v as k,a as t,n as m,t as d,F as C,h as j,T as B,_ as M}from"#entry";import{u as S}from"./yfo-yYjr.js";const z={class:"sticky top-0 z-10 flex items-center justify-between gap-4 py-2 px-4 bg-white border-b"},$={class:"text-lg font-semibold text-neutral-800"},F={class:"p-6"},N={key:0,class:"text-center py-12"},T={key:1,class:"text-center py-12 text-gray-500"},V=["onClick"],q={class:"relative rounded-lg overflow-hidden subcard group"},D=["src","alt"],E={key:1,class:"w-full h-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #8b6914 0%, #d4af37 100%)"}},K={class:"overlay flex items-end justify-center"},L={class:"text-white font-semibold mb-2"},A=x({__name:"SubcategoryModal",props:{show:{type:Boolean},category:{}},emits:["close","select"],setup(f,{emit:v}){const c=f,n=v,{getSubcategories:b}=S(),s=g([]),r=g(!1),p=async a=>{if(!a){s.value=[];return}r.value=!0;const e=await b(a);e.success?s.value=e.data.filter(l=>l.is_active).sort((l,u)=>l.display_order-u.display_order):s.value=[],r.value=!1};return y(()=>[c.show,c.category],async([a,e])=>{a&&e&&e.id?await p(e.id):a||(s.value=[])},{immediate:!0}),(a,e)=>(o(),h(B,{name:"fade"},{default:w(()=>[a.show?(o(),i("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",tabindex:"-1",role:"dialog",onClick:e[1]||(e[1]=k(l=>n("close"),["self"]))},[t("div",{class:m(["relative bg-white rounded-2xl shadow-2xl w-full max-h-[90vh] overflow-y-auto",{"max-w-md":s.value.length<=2,"max-w-2xl":s.value.length===3,"max-w-4xl":s.value.length>=4}]),role:"document"},[t("div",z,[t("h5",$," Sub-Kategori "+d(a.category?.name||""),1),t("button",{type:"button",class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",onClick:e[0]||(e[0]=l=>n("close"))},[...e[2]||(e[2]=[t("i",{class:"bi bi-x-lg text-xl"},null,-1)])])]),t("div",F,[r.value?(o(),i("div",N,[...e[3]||(e[3]=[t("div",{class:"inline-block w-12 h-12 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"},null,-1),t("p",{class:"mt-4 text-gray-600"},"Memuat sub-kategori...",-1)])])):s.value.length===0?(o(),i("div",T,[e[4]||(e[4]=t("i",{class:"bi bi-inbox text-6xl mb-3 block"},null,-1)),t("p",null,"Belum ada sub-kategori untuk "+d(a.category?.name||""),1)])):(o(),i("div",{key:2,class:m(["grid gap-3 justify-items-center",{"grid-cols-2":s.value.length<=2,"grid-cols-2 md:grid-cols-3":s.value.length===3,"grid-cols-2 md:grid-cols-4":s.value.length===4,"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":s.value.length>4}])},[(o(!0),i(C,null,j(s.value,l=>(o(),i("button",{key:l.id,class:"w-full p-0 border-0 bg-transparent cursor-pointer",onClick:u=>n("select",l.id,l.name)},[t("div",q,[l.cover_image?(o(),i("img",{key:0,src:l.cover_image,alt:l.name,class:"w-full h-full object-cover",loading:"lazy"},null,8,D)):(o(),i("div",E,[...e[5]||(e[5]=[t("i",{class:"bi bi-gem text-6xl text-white opacity-50"},null,-1)])])),t("div",K,[t("span",L,d(l.name),1)])])],8,V))),128))],2))])],2)])):_("",!0)]),_:1}))}}),I=M(A,[["__scopeId","data-v-2928c670"]]);export{I as default};
