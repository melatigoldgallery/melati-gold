import{u as k}from"./yfo-yYjr.js";import{i as _,r as b,f as h,c as a,y as w,u as m,a as t,F,h as P,o as l,j as i,t as o,d as n}from"#entry";const j={key:0,class:"text-center py-12"},B={key:1,class:"text-center py-12 text-gray-500"},C={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},q={class:"aspect-[4/3] bg-gray-100"},M=["src","alt"],N={class:"p-4"},D={class:"flex items-start justify-between mb-2"},V={class:"font-semibold text-lg text-gray-900 line-clamp-1"},I={key:0,class:"ml-2 flex-shrink-0 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full"},R={class:"text-sm text-gray-600 mb-2 line-clamp-2"},U={class:"flex items-center justify-between text-sm text-gray-500 mb-3"},A={key:0},L={key:1},S={class:"flex items-center justify-between mb-3"},T={class:"font-semibold text-maroon text-lg"},$={key:0,class:"text-xs text-gray-600"},E={class:"flex gap-2"},K=["onClick"],O=_({__name:"CatalogFeaturedManager",emits:["alert"],setup(z,{emit:f}){const d=f,{getFeaturedProducts:x,toggleProductFeatured:y}=k(),u=b([]),c=b(!0),g=async()=>{c.value=!0;const r=await x();if(r.success)u.value=r.data;else{const e="error"in r?r.error:"Unknown error";d("alert","Failed to load featured products: "+e,"error")}c.value=!1},p=async r=>{if(!confirm(`Remove "${r.title}" from featured products?`))return;const e=await y(r.id);if(e.success)d("alert","Product removed from featured!","success"),g();else{const s="error"in e?e.error:"Unknown error";d("alert","Failed to update product: "+s,"error")}},v=r=>r?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(r):"-";return h(()=>{g()}),(r,e)=>(l(),a("div",null,[e[6]||(e[6]=w('<div class="flex justify-between items-center mb-6"><div><h2 class="text-xl font-semibold text-gray-900">Featured Products</h2><p class="text-sm text-gray-600 mt-1">Products yang ditampilkan di homepage sebagai produk unggulan</p></div></div><div class="mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-start"><i class="bi bi-info-circle text-blue-600 text-xl mr-3 mt-1"></i><div class="flex-1"><h3 class="font-semibold text-blue-900 mb-1">Cara Mengelola Featured Products</h3><ul class="text-sm text-blue-800 space-y-1"><li>• Buka tab &quot;All Products&quot; untuk menambah/edit produk</li><li>• Toggle &quot;Featured&quot; untuk menandai produk sebagai featured</li><li>• Produk featured akan muncul di homepage section &quot;Produk Unggulan&quot;</li><li>• Klik tombol di bawah untuk remove produk dari featured</li></ul></div></div></div>',2)),m(c)?(l(),a("div",j,[...e[0]||(e[0]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Loading featured products...",-1)])])):m(u).length===0?(l(),a("div",B,[...e[1]||(e[1]=[t("i",{class:"bi bi-star text-4xl mb-2"},null,-1),t("p",null,"Belum ada produk featured.",-1),t("p",{class:"text-sm mt-1"},'Buka tab "All Products" untuk menandai produk sebagai featured.',-1)])])):(l(),a("div",C,[(l(!0),a(F,null,P(m(u),s=>(l(),a("div",{key:s.id,class:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow"},[t("div",q,[t("img",{src:s.thumbnail_image||s.images?.[0]||"/img/placeholder.jpg",alt:s.title,class:"w-full h-full object-cover"},null,8,M)]),t("div",N,[t("div",D,[t("h3",V,o(s.title),1),s.is_best_seller?(l(),a("span",I,[...e[2]||(e[2]=[t("i",{class:"bi bi-star-fill"},null,-1),n(" Best ",-1)])])):i("",!0)]),t("p",R,o(s.description||"No description"),1),t("div",U,[s.category?(l(),a("span",A,[e[3]||(e[3]=t("i",{class:"bi bi-folder mr-1"},null,-1)),n(" "+o(s.category.name),1)])):i("",!0),s.subcategory?(l(),a("span",L,[e[4]||(e[4]=t("i",{class:"bi bi-tag mr-1"},null,-1)),n(" "+o(s.subcategory.name),1)])):i("",!0)]),t("div",S,[t("div",T,o(v(s.price)),1),s.weight?(l(),a("span",$,o(s.weight),1)):i("",!0)]),t("div",E,[t("button",{onClick:G=>p(s),class:"flex-1 px-3 py-2 bg-gray-200 text-gray-700 hover:bg-gray-300 rounded-lg text-sm transition-colors"},[...e[5]||(e[5]=[t("i",{class:"bi bi-star mr-1"},null,-1),n(" Remove Featured ",-1)])],8,K)])])]))),128))]))]))}});export{O as default};
